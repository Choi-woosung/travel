<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
			PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
			"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
			
<mapper namespace="QnABoardSQL"> 
	 
	<insert id="qnawriting" parameterType="QnABoardVO">
		INSERT INTO schedulequestion
		VALUES(
		    (SELECT MAX(NVL(sq_no, 1)) FROM schedulequestion),
		    #{sq_qst},
		    #,
		    (SELECT m_no FROM member WHERE m_id = #)
		)
	</insert>
	
	<select id="getprofile" parameterType="QnABoardVO" resultType="string">
		SELECT
		    a_img_name
		FROM
		    member_avatar
		WHERE
		    a_img_no = (SELECT m_avatar FROM member WHERE m_id = #{sid})
	</select>
	
	<select id="getname" parameterType="QnABoardVO" resultType="string">
		SELECT
		    m_name
		FROM
		    member
		WHERE
		    m_id = #{sid}
	</select>
	
</mapper>