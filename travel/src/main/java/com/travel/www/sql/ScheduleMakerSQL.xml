<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
			PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
			"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="soSQL">
	<insert id="insertScheduleMaker" parameterType="soVO">
		INSERT INTO
			schedulemaker
		VALUES(
			(SELECT NVL(MAX(sd_no) + 1, 1) FROM schedulemaker),
			#{type}, #{placeName}, #{body}, #{price}, #{liCnt}, #{dayCount}
		)
	</insert>
	
	<insert id="insertSchedule" parameterType="soVO">
		INSERT INTO
			schedule
		VALUES(
			(SELECT NVL(MAX(s_no) + 1, 1) FROM schedule),
			#{scheduleName}, #{scheduleSdate}, #{scheduleEdate}, 
			#{scheduleCountry}, #{scheduleArea}, #{scheduleWriter}, 
			sysdate, null, #{scheduleBody},
			0, 'N', #{schedulePic},
			(SELECT SUM(sd_mcost) FROM schedulemaker WHERE sd_sno = #{scheduleMcost})				
		)
	</insert>
</mapper> 